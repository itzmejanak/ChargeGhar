############
# Secrets
# YOU MUST CHANGE THESE BEFORE GOING INTO PRODUCTION
############
POSTGRES_PASSWORD=chargeghar5060
RABBITMQ_DEFAULT_PASS=chargeghar5060
DJANGO_SECRET_KEY=_3@cj#y+ck+@o5^x-p3qpy8^y!z0txm91jlgz4#p(l&a6a1p*f
DJANGO_ADMIN_PASSWORD=5060

# Port that will be exposed to the host machine
API_PORT=8010
RABBITMQ_DASHBOARD_PORT=15672

WORKERS=4
THREADS=16

############
# Application
############
HOST=main.chargeghar.com

ENVIRONMENT=local

PROJECT_NAME=powerbank
PROJECT_VERBOSE_NAME="ChargeGhar Nepal"

COMPOSE_PROJECT_NAME=${PROJECT_NAME}_${ENVIRONMENT}

DJANGO_DEBUG=false
LOG_LEVEL=DEBUG

LANGUAGE_CODE=en-us
TIME_ZONE=Asia/Kathmandu

ALLOWED_HOSTS=${HOST},127.0.0.1,localhost

# https://django-axes.readthedocs.io/en/latest/4_configuration.html
AXES_ENABLED=true
AXES_FAILURE_LIMIT=3

CORS_ORIGIN_ALLOW_ALL=false
CORS_ALLOW_CREDENTIALS=false
CORS_ALLOWED_ORIGINS=http://${HOST},https://${HOST},http://localhost

CSRF_TRUSTED_ORIGINS=http://${HOST},https://${HOST},http://localhost

DJANGO_ADMIN_USERNAME=janak
DJANGO_ADMIN_EMAIL=janak@powerbank.com

############
# RabbitMQ
############
RABBITMQ_DEFAULT_USER=powerbank
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_URL=amqp://${RABBITMQ_DEFAULT_USER}:${RABBITMQ_DEFAULT_PASS}@${RABBITMQ_HOST}:${RABBITMQ_PORT}/

############
# Redis
############
USE_REDIS_FOR_CACHE=true
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/0

############
# Celery
# https://docs.celeryproject.org/en/stable/userguide/configuration.html
############
CELERY_BROKER_URL=${RABBITMQ_URL}
CELERY_RESULT_BACKEND=${REDIS_URL}
CELERY_TASK_ALWAYS_EAGER=true
CELERY_TASK_EAGER_PROPAGATES=true
CELERY_TASK_IGNORE_RESULT=true
CELERY_TIMEZONE=${TIME_ZONE}
CELERY_ENABLE_UTC=true

############
# Sentry
# https://docs.sentry.io/platforms/python/integrations/django/
############
USE_SENTRY=false
SENTRY_DSN=change
SENTRY_TRACES_SAMPLE_RATE=1.0
SENTRY_PROFILE_SAMPLE_RATE=1.0

############
# Silk
# https://github.com/jazzband/django-silk/
############
USE_SILK=false

############
# Cloud Storage Configuration
############
# Cloud storage provider: 'cloudinary' or 's3'
CLOUD_STORAGE_PROVIDER=cloudinar

# Cloudinary Configuration
CLOUDINARY_CLOUD_NAME=your_cloudinary_cloud_name
CLOUDINARY_API_KEY=your_cloudinary_api_key
CLOUDINARY_API_SECRET=your_cloudinary_api_secret

############
# AWS S3
############
USE_S3_FOR_MEDIA=false
USE_S3_FOR_STATIC=false
AWS_STORAGE_BUCKET_NAME=change
AWS_S3_REGION_NAME=us-east-1
AWS_S3_CUSTOM_DOMAIN=${AWS_STORAGE_BUCKET_NAME}.s3.amazonaws.com
AWS_S3_ACCESS_KEY_ID=change
AWS_S3_SECRET_ACCESS_KEY=change


POSTGRES_USER=powerbank_user
POSTGRES_DB=powerbank_db
POSTGRES_HOST=pgbouncer
POSTGRES_PORT=5432
DATABASE_URL=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}


############
# NOTIFICATION SERVICES CONFIGURATION
############

# Firebase Cloud Messaging (FCM) Configuration
# note: For the backend, you only need to configure either
#       FIREBASE_CREDENTIALS_PATH or FIREBASE_CREDENTIALS_BASE64. The senderid is
#       something your mobile app developers will need.

FCM_SERVER_KEY=your_fcm_server_key_here
FCM_SENDER_ID=senderid
FIREBASE_CREDENTIALS_PATH=firebase-credentials.json
# Alternative: Base64 encoded service account JSON
FIREBASE_CREDENTIALS_BASE64=ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAiY2hhcmdlLWdoYXItOGFiZjQiLAogICJwcml2YXRlX2tleV9pZCI6ICJmMzNkMDg2ODY0YzMyYzQwNDQ1Yjg1NDRkZmE3OGY4MzZiMGNhNGNmIiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXG5NSUlFdlFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLY3dnZ1NqQWdFQUFvSUJBUURVSHY1Ly8xTG1UajFhXG5Yb2ZPajZYeE9MVWxhY1lFazlyQStaZG02VHV1Z1VXcmVPSE1Oam53eU9DVitKMG5lU2NQZjFqZWNxaGZXeWdkXG5rTnFrZ1IrcEN4bU15dm55SldDMXArRTRlQ1NCcS84WGJiNFJWbHk5WHRWZDNiVmpiKzdWZWY4bXoxT0JCTGhHXG5CV0x2VDhBaVgxT1dsaE50bExlNHhYSWNTVDg3b2lkdmh5aCtvenBNQjNqN0R1M3lzNlRFelpXMzlDOXF4T1M1XG53Y3hRUkVwTHpYL1VnK2RBb2owdzQrZmN3elZZSS9oSFVWM2FhZEtvTFNmZDJyWldtM3NaSjhLSEhoaWtvSDBVXG50aE4wc29pcTdaUVdRd0w1YXBMVTRNeU9HUXorL1ZzOVdkRXhzRkhVS2VWdWhmekRQd0VacWFZdkxsRVQ1WVhJXG5QQ25ZUldzZkFnTUJBQUVDZ2dFQUl1bnpFOWhQcWM2bzlJM29wb3dvVVJyM1hmQWFBcmpmWWJIelJLSVJDN2tGXG5ZYUxrNzNyaGNJdHZ3OStHNW05ZmlZSjVleXUrSU92ZEgzaXZOREo0cHBkSUhrOXVjbmZLZ2p2ZXF5L0RPb0MzXG4zUUJZTDN4YWlXVHBrNmloYVh1TUFTRXlhUTNvL2F4c05FSkF0WWtYNDlCeTdxOUhCVnRjSGhLSnBMUTlyeS9GXG5yZTY5MVZYSW9BL1FFdjFycVRTNi9oU2YrNnNJRXI4YTFOMmthZ1MzemxwKzRzUmZhZGdYQ3IrY1kxL1dBNDUvXG51R3BveVYrUUxlUVlVV2NiTVo0MTMyQ2krdklMV0FLSHFyT3U2T20xaHMxdzRoTHI5QW1DU0FhQzhvN2g5Z0ZwXG5Nc2hKNGtWelFvczJGUTIySGEzYlN6Tzd3M1lLbzFUaGc3Q0dQNWNkWVFLQmdRRHlqS24vWXRTNU1mZE9xVEo4XG55SjBWeWh2TW1lWlNJNGFDd1hVTFYrTUk3WTFKYmpwMDBXb2NWRjdodnlWTk9oVnpBZUF3czJFcWtKL1ZzNEJVXG53WE0xK3VBWk1DS1ZvU0ZuUi9OUkh1Z0tvZWlIQ1FMblNFNEtRb0l1RDVkdldOSkk3V2puRUlvbXhkZi9Xb1NPXG5wamZmYnVrVGVjaVE4Q1R1aE9ZNG1VQTE4UUtCZ1FEZjRsc0VzNVZueUh3azE2RFBwc1NuVzFkalRJdWFwTEozXG5uVXlPcW5hMnByN3AxVUM3cExNb3ZvM1RTQkdMZXlWd2U5dHJ3MnZTRmx2aHRjczJ4ck5nZmNwTWxJc2Izelo0XG4ybFBMMW0zT3NHZDU1a05QdHNYQ3dDZHhOaHBxWTluNU9RRVBlSVg4aW5QR0NJWXBJMTF5U0x6QXhLK0lKWGp5XG5ZYVFTQ3B4aUR3S0JnQTdGUUNqOFJNWU9ZK2dYWjZxdnNOazkySm1LR2J1UXpFVTBNTU9ERTZGY2pna1Z2RnVXXG4wU1p1Z09Td2RqNFF0bk90ZnBDWXErY2lyWWtmQ0VhaERUb1JVQXBZb3hLSG9IZ2dxcEdiRnpobWlibUhjL1RQXG5zMmp1aWV6eUtCK3d3Z1dNNTZHQ29WY2hIemsrc3VuWTkzZ1UwZjdNb01rcXhxVDcxT1ZIZCtDUkFvR0FMK1hZXG5mVEFDaGRxaG5LdzVMbFBLZk5lUTRhQ3R1VjhGQTR3MnBjc1liTWxOek84ZjAwVlFReVpKWjJ0aXZZbVNIL2VQXG5vUVdGR3NSSDBnazN1YmRYQnd6Q2JCSFhsUlh6TEhYaE9abmRranV4VjZZSXZwUW15UnlkRTU1MGxsQllnUFpPXG5JTVl6UEMxT3lZNW5UWVBRYVRQZ2xnaytXSTFUeTk5UjM3NC9hTWNDZ1lFQXEyYnJ0M3hxTE5DdUl3NGFFOHczXG5TeUtiTWxncXZ1L09rRS9SV2loSmQ1M0VEWTRCc0hxNThCWjRiWnRtZGVSOTBSY2hvRHpzSEViYXIrTUNnMEJyXG4wdXVVSDllUy9aRjFWYVhTaFZwNGQrSlVIS3VJdjZHdGtMSHJoeUQ4bVlENDhGMmhqTmp2UVJnQ3p3WjZ5dFd5XG5tVlBMT3pQNzQxNXIxdmZiRVluN2d4VT1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsCiAgImNsaWVudF9lbWFpbCI6ICJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0BjaGFyZ2UtZ2hhci04YWJmNC5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsCiAgImNsaWVudF9pZCI6ICIxMDI3ODY4NTE1Mjg2NjY0Mzk5MzMiLAogICJhdXRoX3VyaSI6ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCIsCiAgInRva2VuX3VyaSI6ICJodHRwczovL29hdXRoMi5nb29nbGVhcGlzLmNvbS90b2tlbiIsCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLAogICJjbGllbnRfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9yb2JvdC92MS9tZXRhZGF0YS94NTA5L2ZpcmViYXNlLWFkbWluc2RrLWZic3ZjJTQwY2hhcmdlLWdoYXItOGFiZjQuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJ1bml2ZXJzZV9kb21haW4iOiAiZ29vZ2xlYXBpcy5jb20iCn0K

# Sparrow SMS Integration (Primary SMS Provider for Nepal)
SPARROW_SMS_TOKEN=v2_ryA5tgy74U5rnch6zltK3vNieiD.rntC
SPARROW_SMS_FROM=Demo
SPARROW_SMS_BASE_URL=http://api.sparrowsms.com/v2/sms/

# Email Configuration (SMTP) - Django Default Settings
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.hostinger.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=noreply@chargeghar.com
EMAIL_HOST_PASSWORD=P?6e9B7pu
DEFAULT_FROM_EMAIL=noreply@chargeghar.com
# DEFAULT_FROM_EMAIL=ChargeGhar <noreply@chargeghar.com>

# Notification Settings
NOTIFICATION_CLEANUP_DAYS=90
MAX_NOTIFICATIONS_PER_USER=1000
NOTIFICATION_RETRY_ATTEMPTS=3


############
# Payment Gateway Configuration
############
# Khalti Configuration (nepal-gateways format)
BASE_URL=http://localhost:8010
KHALTI_LIVE_SECRET_KEY=5b24a15d19c94a0ea4d40f1ad0e3bf65
KHALTI_RETURN_URL=${BASE_URL}/api/payments/khalti/callback
KHALTI_WEBSITE_URL=${BASE_URL}
KHALTI_MODE=sandbox

# eSewa Configuration (nepal-gateways format)
ESEWA_PRODUCT_CODE=EPAYTEST
ESEWA_SECRET_KEY=8gBm/:&EnhH.1/q
ESEWA_SUCCESS_URL=${BASE_URL}/api/payments/esewa/success
ESEWA_FAILURE_URL=${BASE_URL}/api/payments/esewa/failure
ESEWA_MODE=sandbox

# Nepal Gateways Configuration
DEFAULT_CURRENCY=NPR
MIN_TOPUP_AMOUNT=50.00
MAX_TOPUP_AMOUNT=10000.00
PAYMENT_INTENT_EXPIRY_MINUTES=30

############
# JWT Token Configuration
############
# JWT Token Expiration Settings (in days)
JWT_ACCESS_TOKEN_DAYS=30    # Access token expires in 30 days (1 month)
JWT_REFRESH_TOKEN_DAYS=90   # Refresh token expires in 90 days (3 months)
JWT_ISSUER=ChargeGhar-API   # JWT issuer name

# JWT Environment Presets: development, staging, production
# JWT_PRESET=production

# Custom JWT expiration for different environments:
# Development: Access=1day, Refresh=7days
# Staging: Access=7days, Refresh=30days  
# Production: Access=30days, Refresh=90days


############
# SOCIAL AUTHENTICATION CONFIGURATION
############

# Google OAuth Configuration
GOOGLE_OAUTH_CLIENT_ID=286628273289-vb7usmnnucmhagsgvhma0seep3e7o192.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=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

# Apple OAuth Configuration  
APPLE_OAUTH_CLIENT_ID=com.chargeghar.app
APPLE_OAUTH_TEAM_ID=your_apple_team_id
APPLE_OAUTH_KEY_ID=your_apple_key_id
APPLE_OAUTH_PRIVATE_KEY_PATH=apple_private_key.p8
# Alternative: Base64 encoded private key
APPLE_OAUTH_PRIVATE_KEY_BASE64=your_base64_encoded_private_key

# Social Auth Settings - Django Allauth Redirect URLs
SOCIAL_AUTH_LOGIN_REDIRECT_URL=/api/auth/social/success
SOCIAL_AUTH_LOGIN_ERROR_URL=/api/auth/social/error
