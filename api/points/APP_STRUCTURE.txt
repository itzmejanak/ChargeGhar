â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¦ APP: points
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“„ VIEWS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
api/points/views/
â”œâ”€â”€ __init__.py                # Router merge
â”œâ”€â”€ points_views.py            # Core points functionality - history, summary, and leaderboard (3 classes)
â”‚   â”œâ”€â”€ PointsHistoryView
â”‚   â”œâ”€â”€ PointsSummaryView
â”‚   â””â”€â”€ PointsLeaderboardView
â””â”€â”€ referrals_views.py         # Referral system - codes, validation, claims, and user referrals (3 classes)
    â”œâ”€â”€ UserReferralCodeView
    â”œâ”€â”€ ReferralClaimView
    â””â”€â”€ UserReferralsView

Total: 2 files, 6 view classes

âš™ï¸  SERVICES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
api/points/services/
â”œâ”€â”€ __init__.py                    # Exports
â”œâ”€â”€ points_api.py                  # ğŸ¯ Points API - Universal Points Operations
============================================

Simple, universal API for points operations.
Works for ANY scenario - no app-specific assumptions!

Usage:
    from api.points.services import award_points, deduct_points
    
    # Sync (immediate)
    award_points(user, 50, 'RENTAL', 'Completed rental')
    
    # Async (background)
    award_points(user, 50, 'RENTAL', 'Completed rental', async_send=True)
â”œâ”€â”€ points_leaderboard_service.py  # PointsLeaderboardService - Individual Service File
============================================================

Service for points leaderboard

Auto-generated by Service Splitter
Date: 2025-10-15
â”‚   â””â”€â”€ PointsLeaderboardService
â”‚       â”œâ”€â”€ get_points_leaderboard()
â”‚       â””â”€â”€ _get_user_rank()
â”œâ”€â”€ points_service.py              # PointsService - Individual Service File
============================================================

Service for points operations

Auto-generated by Service Splitter
Date: 2025-10-15
â”‚   â””â”€â”€ PointsService
â”‚       â”œâ”€â”€ get_or_create_user_points()
â”‚       â”œâ”€â”€ award_points()
â”‚       â”œâ”€â”€ deduct_points()
â”‚       â”œâ”€â”€ adjust_points()
â”‚       â”œâ”€â”€ get_points_history()
â”‚       â”œâ”€â”€ get_points_summary()
â”‚       â”œâ”€â”€ _get_referral_stats()
â”‚       â””â”€â”€ bulk_award_points()
â””â”€â”€ referral_service.py            # ReferralService - Individual Service File
============================================================

Service for referral operations

Auto-generated by Service Splitter
Date: 2025-10-15
    â””â”€â”€ ReferralService
        â”œâ”€â”€ validate_referral_code()
        â”œâ”€â”€ create_referral()
        â”œâ”€â”€ complete_referral()
        â”œâ”€â”€ get_user_referrals()
        â”œâ”€â”€ get_referral_analytics()
        â””â”€â”€ expire_old_referrals()

Total: 4 files, 3 service classes, 16 methods

ğŸ“‹ SERIALIZERS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
api/points/serializers.py          # Single file (317 lines)
â”œâ”€â”€ User Serializers
â”‚   â”œâ”€â”€ UserPointsSerializer
â”‚   â”œâ”€â”€ UserReferralCodeResponseSerializer
â”‚   â”œâ”€â”€ UserReferralsResponseSerializer
â”‚   â””â”€â”€ UserReferralsDataSerializer
â”œâ”€â”€ Payment Serializers
â”‚   â”œâ”€â”€ PointsTransactionListSerializer
â”‚   â””â”€â”€ PointsTransactionDetailSerializer
â”œâ”€â”€ Point Serializers
â”‚   â”œâ”€â”€ ReferralListSerializer
â”‚   â”œâ”€â”€ ReferralDetailSerializer
â”‚   â”œâ”€â”€ ReferralClaimSerializer
â”‚   â”œâ”€â”€ PointsHistoryFilterSerializer
â”‚   â”œâ”€â”€ PointsSummarySerializer
â”‚   â”œâ”€â”€ PointsLeaderboardListSerializer
â”‚   â”œâ”€â”€ PointsLeaderboardDetailSerializer
â”‚   â”œâ”€â”€ PointsHistoryResponseSerializer
â”‚   â”œâ”€â”€ PointsSummaryResponseSerializer
â”‚   â”œâ”€â”€ ReferralClaimResponseSerializer
â”‚   â”œâ”€â”€ PointsLeaderboardResponseSerializer
â”‚   â”œâ”€â”€ PointsHistoryDataSerializer
â”‚   â””â”€â”€ ReferralCodeDataSerializer
â””â”€â”€ Other Serializers
    â””â”€â”€ ClaimDataSerializer

Total: 1 file, 20 serializers (4 categories)
